PROC 3 DSNAME SIZE DIR
/*
    IF &SIZE > 99 THEN DO
    SET &SEC = 25
    GOTO ALC
    END
/*
    IF &SIZE > 49 THEN DO
    SET &SEC = 15
    GOTO ALC
    END
/*
    SET &SEC = 10
/*
ALC:ALLOC DA(TST.COMP.PDS) NEW SP(&SIZE &SEC) DIR(&DIR) TRACKS
    WRITE ***   NOW COMPRESSING "&SYSPREF..&DSNAME"   ***
    WRITE
/*
    IF &DSNAME = CLIST.LIB THEN DO
    FREE F(SYSPROC)
    ALLOC FILE(SYSPROC) DA('SYS1.CLIST') SHR
    END
/*
    COPY &DSNAME TST.COMP.PDS NOMSG
    WRITE
    DEL '&SYSPREF..&DSNAME'
    WRITE
    REN TST.COMP.PDS '&SYSPREF..&DSNAME'
/*
    IF &DSNAME = CLIST.LIB THEN DO
    FREE F(SYSPROC)
    ALLOC FILE(SYSPROC) DA('&SYSPREF..&DSNAME' 'SYS1.CLIST') SHR
    END
/*
    WRITE ***   "&SYSPREF..&DSNAME" NOW COMPRESSED   ***
    EXIT
/*
